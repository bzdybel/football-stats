{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useCallback } from 'react';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport { List } from \"../screens/List\";\nimport { TextDemo } from \"../screens/Demos\";\nimport { GET_ALL_LEAGUES_INFORMATION } from \"../store/constants/actionTypes\";\nexport var api = axios.create();\nvar MainStack = createStackNavigator();\nexport var Main = function Main() {\n  var _useSelector = useSelector(function (state) {\n    return state.general;\n  }),\n      leagues = _useSelector.leagues;\n\n  var dispatch = useDispatch();\n  var fetchLeagueInformation = useCallback(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            api.get('https://api-football-standings.azharimm.site/leagues').then(function (response) {\n              saveData(response.data);\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n\n  var saveData = function saveData(data) {\n    return dispatch({\n      type: GET_ALL_LEAGUES_INFORMATION,\n      payload: data\n    });\n  };\n\n  useEffect(function () {\n    fetchLeagueInformation();\n  }, [fetchLeagueInformation]);\n  return React.createElement(MainStack.Navigator, null, React.createElement(MainStack.Screen, {\n    name: \"List\",\n    component: List\n  }), leagues.map(function (e) {\n    return React.createElement(MainStack.Screen, {\n      name: e.slug,\n      component: TextDemo,\n      options: {\n        headerTitle: e.name\n      }\n    });\n  }));\n};","map":{"version":3,"sources":["/Users/bzdybel/Documents/Projekty/football-stats/src/navigation/Main.tsx"],"names":["React","useEffect","useCallback","createStackNavigator","useSelector","useDispatch","axios","List","TextDemo","GET_ALL_LEAGUES_INFORMATION","api","create","MainStack","Main","state","general","leagues","dispatch","fetchLeagueInformation","get","then","response","saveData","data","type","payload","map","e","slug","headerTitle","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,WAA3B,QAA8C,OAA9C;AACA,SAASC,oBAAT,QAAqC,yBAArC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT;AACA,SAASC,QAAT;AAEA,SAASC,2BAAT;AAEA,OAAO,IAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAN,EAAZ;AASP,IAAMC,SAAS,GAAGT,oBAAoB,EAAtC;AAEA,OAAO,IAAMU,IAAI,GAAG,SAAPA,IAAO,GAAM;AACxB,qBAAoBT,WAAW,CAAC,UAACU,KAAD;AAAA,WAAgBA,KAAK,CAACC,OAAtB;AAAA,GAAD,CAA/B;AAAA,MAAQC,OAAR,gBAAQA,OAAR;;AACA,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AAEA,MAAMa,sBAAsB,GAAGhB,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AACzCQ,YAAAA,GAAG,CACAS,GADH,CACO,sDADP,EAEGC,IAFH,CAEQ,UAAUC,QAAV,EAAoB;AACxBC,cAAAA,QAAQ,CAACD,QAAQ,CAACE,IAAV,CAAR;AACD,aAJH;;AADyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,EAMvC,EANuC,CAA1C;;AAQA,MAAMD,QAAQ,GAAG,SAAXA,QAAW,CAAAC,IAAI;AAAA,WACnBN,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAEf,2BAAR;AAAqCgB,MAAAA,OAAO,EAAEF;AAA9C,KAAD,CADW;AAAA,GAArB;;AAGAtB,EAAAA,SAAS,CAAC,YAAM;AACdiB,IAAAA,sBAAsB;AACvB,GAFQ,EAEN,CAACA,sBAAD,CAFM,CAAT;AAIA,SACE,oBAAC,SAAD,CAAW,SAAX,QACE,oBAAC,SAAD,CAAW,MAAX;AAAkB,IAAA,IAAI,EAAC,MAAvB;AAA8B,IAAA,SAAS,EAAEX;AAAzC,IADF,EAEGS,OAAO,CAACU,GAAR,CAAY,UAAAC,CAAC,EAAI;AAChB,WACE,oBAAC,SAAD,CAAW,MAAX;AACE,MAAA,IAAI,EAAEA,CAAC,CAACC,IADV;AAEE,MAAA,SAAS,EAAEpB,QAFb;AAGE,MAAA,OAAO,EAAE;AAAEqB,QAAAA,WAAW,EAAEF,CAAC,CAACG;AAAjB;AAHX,MADF;AAOD,GARA,CAFH,CADF;AAcD,CAjCM","sourcesContent":["import React, { useEffect, useCallback } from 'react';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport { List } from '../screens/List';\nimport { TextDemo, ButtonDemo, FormDemo } from '../screens/Demos';\n// import action from './store';\nimport { GET_ALL_LEAGUES_INFORMATION } from '../store/constants/actionTypes';\n\nexport const api = axios.create();\n\nexport type MainStackParams = {\n  List: undefined;\n  TextDemo: undefined;\n  FormDemo: undefined;\n  ButtonDemo: undefined;\n};\n\nconst MainStack = createStackNavigator<MainStackParams>();\n\nexport const Main = () => {\n  const { leagues } = useSelector((state: any) => state.general);\n  const dispatch = useDispatch();\n\n  const fetchLeagueInformation = useCallback(async () => {\n    api\n      .get('https://api-football-standings.azharimm.site/leagues')\n      .then(function (response) {\n        saveData(response.data);\n      });\n  }, []);\n\n  const saveData = data =>\n    dispatch({ type: GET_ALL_LEAGUES_INFORMATION, payload: data });\n\n  useEffect(() => {\n    fetchLeagueInformation();\n  }, [fetchLeagueInformation]);\n\n  return (\n    <MainStack.Navigator>\n      <MainStack.Screen name=\"List\" component={List} />\n      {leagues.map(e => {\n        return (\n          <MainStack.Screen\n            name={e.slug}\n            component={TextDemo}\n            options={{ headerTitle: e.name }}\n          />\n        );\n      })}\n    </MainStack.Navigator>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}