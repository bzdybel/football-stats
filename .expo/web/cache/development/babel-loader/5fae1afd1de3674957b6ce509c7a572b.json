{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useCallback } from \"react\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport { List } from \"../screens/List\";\nimport { TextDemo } from \"../screens/Demos\";\nimport { GET_ALL_LEAGUES_INFORMATION } from \"../store/constants/actionTypes\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nexport var api = axios.create();\nvar MainStack = createStackNavigator();\nexport var Main = function Main() {\n  var _useSelector = useSelector(function (state) {\n    return state.general;\n  }),\n      leagues = _useSelector.leagues;\n\n  var dispatch = useDispatch();\n  var fetchLeagueInformation = useCallback(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            api.get(\"https://api-football-standings.azharimm.site/leagues\").then(function (response) {\n              saveData(response.data);\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n\n  var saveData = function saveData(data) {\n    return dispatch({\n      type: GET_ALL_LEAGUES_INFORMATION,\n      payload: data\n    });\n  };\n\n  useEffect(function () {\n    fetchLeagueInformation();\n  }, [fetchLeagueInformation]);\n  return React.createElement(MainStack.Navigator, {\n    screenOptions: {\n      headerLeft: function headerLeft() {\n        return React.createElement(Pressable, {\n          style: styles.button,\n          onPress: onPress\n        }, React.createElement(Text, {\n          style: styles.text\n        }, title));\n      }\n    }\n  }, React.createElement(MainStack.Screen, {\n    options: {\n      title: \"Welcome\"\n    },\n    name: \"Leagues\",\n    component: List\n  }), leagues.map(function (e) {\n    return React.createElement(MainStack.Screen, {\n      name: e.slug,\n      component: TextDemo,\n      options: {\n        headerTitle: e.name\n      }\n    });\n  }));\n};","map":{"version":3,"sources":["/Users/bzdybel/Documents/Projekty/football-stats/src/navigation/Main.tsx"],"names":["React","useEffect","useCallback","createStackNavigator","useSelector","useDispatch","axios","List","TextDemo","GET_ALL_LEAGUES_INFORMATION","api","create","MainStack","Main","state","general","leagues","dispatch","fetchLeagueInformation","get","then","response","saveData","data","type","payload","headerLeft","styles","button","onPress","text","title","map","e","slug","headerTitle","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,WAA3B,QAA8C,OAA9C;AACA,SAASC,oBAAT,QAAqC,yBAArC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT;AACA,SAASC,QAAT;AAEA,SAASC,2BAAT;;AAGA,OAAO,IAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAN,EAAZ;AAOP,IAAMC,SAAS,GAAGT,oBAAoB,EAAtC;AAEA,OAAO,IAAMU,IAAI,GAAG,SAAPA,IAAO,GAAM;AACtB,qBAAoBT,WAAW,CAAC,UAACU,KAAD;AAAA,WAAgBA,KAAK,CAACC,OAAtB;AAAA,GAAD,CAA/B;AAAA,MAAQC,OAAR,gBAAQA,OAAR;;AACA,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AAEA,MAAMa,sBAAsB,GAAGhB,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AACvCQ,YAAAA,GAAG,CAACS,GAAJ,CAAQ,sDAAR,EAAgEC,IAAhE,CACI,UAAUC,QAAV,EAAoB;AAChBC,cAAAA,QAAQ,CAACD,QAAQ,CAACE,IAAV,CAAR;AACH,aAHL;;AADuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,EAMvC,EANuC,CAA1C;;AAQA,MAAMD,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD;AAAA,WACbN,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAEf,2BAAR;AAAqCgB,MAAAA,OAAO,EAAEF;AAA9C,KAAD,CADK;AAAA,GAAjB;;AAGAtB,EAAAA,SAAS,CAAC,YAAM;AACZiB,IAAAA,sBAAsB;AACzB,GAFQ,EAEN,CAACA,sBAAD,CAFM,CAAT;AAIA,SACI,oBAAC,SAAD,CAAW,SAAX;AACI,IAAA,aAAa,EAAE;AACXQ,MAAAA,UAAU,EAAE;AAAA,eACR,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAEC,MAAM,CAACC,MAAzB;AAAiC,UAAA,OAAO,EAAEC;AAA1C,WACA,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEF,MAAM,CAACG;AAApB,WAA2BC,KAA3B,CADA,CADQ;AAAA;AADD;AADnB,KASI,oBAAC,SAAD,CAAW,MAAX;AACI,IAAA,OAAO,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KADb;AAEI,IAAA,IAAI,EAAC,SAFT;AAGI,IAAA,SAAS,EAAExB;AAHf,IATJ,EAcKS,OAAO,CAACgB,GAAR,CAAY,UAACC,CAAD,EAAmB;AAC5B,WACI,oBAAC,SAAD,CAAW,MAAX;AACI,MAAA,IAAI,EAAEA,CAAC,CAACC,IADZ;AAEI,MAAA,SAAS,EAAE1B,QAFf;AAGI,MAAA,OAAO,EAAE;AAAE2B,QAAAA,WAAW,EAAEF,CAAC,CAACG;AAAjB;AAHb,MADJ;AAOH,GARA,CAdL,CADJ;AA0BH,CA7CM","sourcesContent":["import React, { useEffect, useCallback } from \"react\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport axios from \"axios\";\nimport { List } from \"../screens/List\";\nimport { TextDemo } from \"../screens/Demos\";\nimport { LeagueType } from \"../store/reducers/general\";\nimport { GET_ALL_LEAGUES_INFORMATION } from \"../store/constants/actionTypes\";\nimport { Pressable } from \"react-native\";\n\nexport const api = axios.create();\n\nexport type MainStackParams = {\n    Leagues: undefined;\n    TextDemo: undefined;\n};\n\nconst MainStack = createStackNavigator<MainStackParams>();\n\nexport const Main = () => {\n    const { leagues } = useSelector((state: any) => state.general);\n    const dispatch = useDispatch();\n\n    const fetchLeagueInformation = useCallback(async () => {\n        api.get(\"https://api-football-standings.azharimm.site/leagues\").then(\n            function (response) {\n                saveData(response.data);\n            }\n        );\n    }, []);\n\n    const saveData = (data: LeagueType[]) =>\n        dispatch({ type: GET_ALL_LEAGUES_INFORMATION, payload: data });\n\n    useEffect(() => {\n        fetchLeagueInformation();\n    }, [fetchLeagueInformation]);\n\n    return (\n        <MainStack.Navigator\n            screenOptions={{\n                headerLeft: () => (\n                    <Pressable style={styles.button} onPress={onPress}>\n                    <Text style={styles.text}>{title}</Text>\n                  </Pressable>\n                ),\n            }}\n        >\n            <MainStack.Screen\n                options={{ title: \"Welcome\" }}\n                name=\"Leagues\"\n                component={List}\n            />\n            {leagues.map((e: LeagueType) => {\n                return (\n                    <MainStack.Screen\n                        name={e.slug as keyof MainStackParams}\n                        component={TextDemo}\n                        options={{ headerTitle: e.name }}\n                    />\n                );\n            })}\n        </MainStack.Navigator>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}